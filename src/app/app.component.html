<div class="chat-card">
  <h2>LLaMA Local</h2>

  <div class="history">
    <ng-container *ngFor="let m of llama.messages()">
      <div *ngIf="m.role !== 'system'" [ngClass]="m.role">
        <strong>{{ m.role === 'user' ? 'VocÃª' : 'Narrador' }}:</strong>
        <pre class="bubble">{{ m.content }}</pre>
      </div>
    </ng-container>
  </div>

  <form (ngSubmit)="send()" class="row">
    <textarea
      [(ngModel)]="prompt"
      name="prompt"
      placeholder="Digite sua mensagem..."
      rows="4"
    ></textarea>

    <div class="actions">
      <button type="submit" [disabled]="loading()">Enviar</button>
      <button type="button" (click)="reset()">Resetar</button>
    </div>
  </form>

  <div class="status" *ngIf="loading()">Gerando resposta...</div>
  <div class="error" *ngIf="error()">{{ error() }}</div>
</div>
